<!-- Botón para crear Grupo -->
<div class=" my-4 ">
    <div class="d-flex flex-row ">
        <button class="mx-2 " type="button " class="ms-2 btn btn-success " (click)="abrirFormulario() ">Crear Grupo</button>
    </div>
</div>

<!-- Formulario para Crear o editar un grupo -->
<div class="my-4 " *ngIf="openModalCrear " [formGroup]="formGroupGrupo">
    <h3>Formulario Grupo</h3>
    <div class="d-flex flex-row ">
        <div class="mb-3 me-3 ">
            <label for="exampleFormControlInput1 ">Nombre</label>
            <input type="text " class="form-control " id="exampleFormControlInput1 " formControlName="nombre" placeholder="">
        </div>
        <div class="mb-3 me-3 ">
            <label for="exampleFormControlInput1 ">Horario</label>
            <input type="text " class="form-control " id="exampleFormControlInput1 " formControlName="horario" placeholder=" ">
        </div>
        <div class="mb-3 me-3 ">
            <label for="exampleFormControlInput1 ">Asignatura</label>
            <input type="email " class="form-control " id="exampleFormControlInput1 " formControlName="asignaturaId" placeholder=" ">
        </div>
        <br>
        <button *ngIf="modoFormulario == 'adicion'" class="mx-2 cls-boton-guardar ms-2 btn btn-success " type="button" (click)="crearGrupo()">Guardar</button>
        <button *ngIf="modoFormulario == 'edicion'" class="mx-2 cls-boton-guardar ms-2 btn btn-success " type="button" (click)="editarGrupo()">Guardar</button>
        <button *ngIf="modoFormulario =='edicion'" class="mx-2 cls-boton-guardar ms-2 btn btn-warning " type="button" (click)="cambiarModoAdicion()">Cancelar</button>
    </div>
</div>


<!-- Tabla de Grupos -->
<div>
    <table class="table table-hover ">
        <thead>
            <tr>
                <th style="display:none" scope="col ">ID</th>
                <th scope="col ">Nombre</th>
                <th scope="col ">Horario</th>
                <th scope="col ">Asignatura</th>
                <th scope="col ">Acción</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let grupo of listaGrupos ">
                <th style="display:none" scope="row ">{{grupo.id}}</th>
                <td>{{grupo.nombre}}</td>
                <td>{{grupo.horario}}</td>
                <td>{{grupo.asignaturaId}}</td>
                <td>
                    <button class="mx-2 ms-2 btn btn-warning " type="button" (click)="entrarModoEdicion(grupo)">Editar</button>
                    <button class="mx-2 ms-2 btn btn-danger " type="button" (click)="eliminarGrupo(grupo.id)">Eliminar</button>
                </td>
        </tbody>
    </table>
</div>

<!-- Tabla de Usuarios por grupo -->
<div *ngIf="openModalGrupo">
    <table class="table table-hover ">
        <thead>
            <tr>
                <th scope="col ">ID</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let usuarioPorGrupo of listaUsuariosPorGrupo ">
                <th scope="row ">{{usuarioPorGrupo.id}}</th>
                <td>
                    <button class="mx-2 ms-2 btn btn-warning " type="button">Editar</button>
                    <button class="mx-2 ms-2 btn btn-danger " type="button">Eliminar</button>
                </td>
        </tbody>
    </table>
</div>